{"remainingRequest":"C:\\Users\\web\\Desktop\\20190626\\MyProjects\\out_clinic_sys\\vue_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\20190626\\MyProjects\\out_clinic_sys\\vue_web\\src\\components\\xz\\product.vue?vue&type=style&index=0&lang=css","dependencies":[{"path":"C:\\Users\\web\\Desktop\\20190626\\MyProjects\\out_clinic_sys\\vue_web\\src\\components\\xz\\product.vue","mtime":1564987649149},{"path":"C:\\Users\\web\\Desktop\\20190626\\MyProjects\\out_clinic_sys\\vue_web\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\web\\Desktop\\20190626\\MyProjects\\out_clinic_sys\\vue_web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907988000},{"path":"C:\\Users\\web\\Desktop\\20190626\\MyProjects\\out_clinic_sys\\vue_web\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\web\\Desktop\\20190626\\MyProjects\\out_clinic_sys\\vue_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\Users\\web\\Desktop\\20190626\\MyProjects\\out_clinic_sys\\vue_web\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.product-app{\r\n  display:flex;\r\n  flex-wrap:wrap; /* 指定子元素换行 */\r\n  justify-content: space-between; /* 两端对齐 */\r\n  padding:4px;\r\n}\r\n.goods-item{\r\n  width:49%;\r\n  border:1px solid #ccc;\r\n  border-radius:5px;\r\n  margin:2px 0;\r\n  padding:2px;\r\n  box-sizing:border-box;\r\n}\r\n.goods-item img{width:100%;}\r\n\r\n.goods-item input[type='text']{\r\n  height:33px !important;\r\n  width:33px !important;\r\n}\r\n",{"version":3,"sources":["product.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"product.vue","sourceRoot":"src\\components\\xz","sourcesContent":["<template>\r\n  <div class=\"pro\">\r\n    <h3>商品列表页</h3>\r\n    <div class=\"product-app\">\r\n      <!-- \"select lid,price,lname,details from xz_laptop limit ?,?\" -->\r\n      <div class=\"goods-item\" v-for=\"(list,i) of lists\" :key=\"i\">\r\n        <img :src=\"list.md\" >\r\n        <h4>{{list.lname}}</h4>\r\n        <div class=\"price\">{{list.price}}</div>\r\n        <mt-button size=\"large\" @click=\"addcart\" :data-lid=\"list.lid\" :data-price=\"list.price\" :data-lname=\"list.lname\">加入购物车</mt-button>\r\n      </div>\r\n    </div>\r\n    <div class=\"pageBtn\">\r\n      <!-- <mt-field label=\"页码：\" v-model=\"pno\"></mt-field>\r\n      <mt-field label=\"条数：\" v-model=\"pagesize\"></mt-field> -->\r\n      <mt-button size=\"large\" @click=\"showDetails\">查看更多>></mt-button>\r\n    </div>\r\n    <mt-button @click=\"buy\">去结算</mt-button>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data(){return {\r\n    pno:1,\r\n    pagesize:3,\r\n    lists:[]  //用于保存从后台获取到的数据\r\n  }},\r\n  methods:{\r\n    showDetails(){\r\n      var pno=this.pno++;\r\n      var pagesize=this.pagesize;\r\n      // 发送ajax请求\r\n      var url=\"product\";\r\n      var obj={pno,pagesize};\r\n      this.axios.get(url,{params:obj}).then(res=>{\r\n        // this.lists=res.data.data;  //将从服务器端获取到的数据提取出来，保存到lists变量中 \r\n        var rows=this.lists.concat(res.data.data) //将每次得到的数据合并为一个大数组，用于翻页      \r\n        this.lists=rows;\r\n        console.log(this.lists);\r\n      }).catch(err=>{console.log(\"出错啦\")});\r\n    },\r\n    addcart(e){\r\n      // 将上一个时间中得到的商品信息，通过自定义属性添加到事件按钮上，便于获得\r\n      var lid=e.target.dataset.lid;\r\n      var lname=e.target.dataset.lname;\r\n      var price=e.target.dataset.price;\r\n      // 发送ajax请求\r\n      var url=\"addcart\";\r\n      var obj={lid,lname,price};\r\n      this.axios.get(url,{params:obj}).then(res=>{        \r\n        // console.log(res);\r\n        if(res.data.code==-1){\r\n            this.$messagebox(\"消息\",\"请先登录！\").then(res=>{\r\n            this.$router.push(\"/login\");\r\n            return;\r\n          });\r\n        }else{\r\n          this.$toast(\"添加成功！\");          \r\n        }\r\n      }).catch(err=>{console.log(\"添加购物车出错啦！\")})\r\n    },\r\n    buy(){\r\n      this.axios.get('cart').then(res=>{\r\n        this.$router.push(\"/cart\");\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.product-app{\r\n  display:flex;\r\n  flex-wrap:wrap; /* 指定子元素换行 */\r\n  justify-content: space-between; /* 两端对齐 */\r\n  padding:4px;\r\n}\r\n.goods-item{\r\n  width:49%;\r\n  border:1px solid #ccc;\r\n  border-radius:5px;\r\n  margin:2px 0;\r\n  padding:2px;\r\n  box-sizing:border-box;\r\n}\r\n.goods-item img{width:100%;}\r\n\r\n.goods-item input[type='text']{\r\n  height:33px !important;\r\n  width:33px !important;\r\n}\r\n</style>\r\n\r\n"]}]}