{"remainingRequest":"D:\\stamp_station\\vue_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\stamp_station\\vue_web\\src\\components\\stamp_station\\common\\IndexCen.vue?vue&type=style&index=0&id=178fc4a7&scoped=true&lang=css","dependencies":[{"path":"D:\\stamp_station\\vue_web\\src\\components\\stamp_station\\common\\IndexCen.vue","mtime":1565786331877},{"path":"D:\\stamp_station\\vue_web\\node_modules\\css-loader\\index.js","mtime":1565665641580},{"path":"D:\\stamp_station\\vue_web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1565665653533},{"path":"D:\\stamp_station\\vue_web\\node_modules\\postcss-loader\\lib\\index.js","mtime":1565665649025},{"path":"D:\\stamp_station\\vue_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1565665639480},{"path":"D:\\stamp_station\\vue_web\\node_modules\\vue-loader\\lib\\index.js","mtime":1565665653532}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n@import \"../css/IndexCen.css\";\r\n",{"version":3,"sources":["IndexCen.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+KA","file":"IndexCen.vue","sourceRoot":"src\\components\\stamp_station\\common","sourcesContent":["<template>\r\n<div id=\"index_cen\" >\r\n\t<!-- 搜索 -->\r\n\t<div class=\"searchbox\">\r\n\t\t<h3 class=\"searTitle\"><img src=\"../../../img/search2.png\"><span>邮品搜索</span></h3>\r\n\t\t<table>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>关键字：</td><td  colspan=\"2\"><input type=\"text\"></td><td><a class=\"searchbtn\" href=\"javascript:;\">高级搜索</a></td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>国家：</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<select name=\"nations\">\r\n\t\t\t\t\t\t<option value=\"\">-请选择-</option>\r\n\t\t\t\t\t\t<option value=\"\">中国</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</td>\t\t\t\t\t\r\n\t\t\t\t<td>种类：</td>\t\t\t\t\t\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<select name=\"kinds\">\r\n\t\t\t\t\t\t<option value=\"\">-请选择-</option>\r\n\t\t\t\t\t\t<option value=\"\">中国</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>专题：</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<select name=\"subjects\">\r\n\t\t\t\t\t\t<option value=\"\">-请选择-</option>\r\n\t\t\t\t\t\t<option value=\"\">世界杯足球</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td>发行年份：</td>\r\n\t\t\t\t<td><input type=\"text\"><input type=\"button\" value=\"搜索\"/></td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n\t<!-- 新品推荐 -->\r\n\t<div class=\"newPro\">\r\n\t\t<h3 class=\"title581\">新品推荐 <a @click=\"market\">最新行情,最新邮品！</a></h3>\r\n\t\t<div class=\"content\">\r\n\t\t\t<!-- 查询4个产品信息 -->\r\n\t\t\t<div class=\"pro\" v-for=\"(stamp,i) of stamps1\" :key=\"i\">\r\n\t\t\t\t<div class=\"left\">\r\n\t\t\t\t\t<div class=\"desc\"><a @click=\"infoId\" :data-sid=\"stamp.sid\">{{stamp.detials}}</a></div>\r\n\t\t\t\t\t<h4><a @click=\"infoId\" :data-sid=\"stamp.sid\">{{stamp.stitle}}</a></h4>\r\n\t\t\t\t\t<p v-html=\"`编号：${stamp.snum} 国家：${stamp.nname}`\"></p>\r\n\t\t\t\t\t<a class=\"buy\" href=\"javascript:;\"></a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"img\" :style=\"`background-image: url('${stamp.imgurl}');`\"></div>\r\n\t\t\t</div>\r\n\t\t\t<!-- 一行显示3个产品 -->\r\n\t\t\t<div class=\"pro last\">\r\n\t\t\t\t<div class=\"list\" v-for=\"(stamp,i) of stamps2\" :key=\"i\">\r\n\t\t\t\t\t<div class=\"img\" :style=\"`background-image: url('${stamp.imgurl}');`\"></div>\r\n\t\t\t\t\t<h4><a @click=\"infoId\" :data-sid=\"stamp.sid\">{{stamp.stitle}}</a></h4>\r\n\t\t\t\t\t<p v-html=\"`编号：${stamp.snum}`\"></p>\r\n\t\t\t\t\t<p v-html=\"`国家：${stamp.nname}`\"></p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<!-- 世界邮票 -->\r\n\t<div class=\"areaStamp\">\r\n\t\t<h3 class=\"title581\">世界邮票 <a @click=\"market\">更多>></a></h3>\r\n\t\t<Classfication1 :cats=\"nareas\" :state=\"state\"></Classfication1>\r\n\t</div>\r\n\t\r\n\t<!-- 专题邮票 -->\r\n\t<div class=\"kinsStamp\">\r\n\t\t<h3 class=\"title581\">专题邮票 <a @click=\"market\">更多>></a></h3>\r\n\t\t<Classfication2 :cats=\"subjects\" :state=\"sub\"></Classfication2>\r\n\t</div>\r\n</div> \r\n</template>\r\n<script>\r\nimport Classfication1 from \"./Classfication1.vue\";\r\nimport Classfication2 from \"./Classfication2.vue\";\r\nexport default {\r\n  data(){return {\r\n\t\tkeywords:\"\",\r\n\t\tstamps1:[],\r\n\t\tstamps2:[],\r\n\t\tnareas:[],\r\n\t\tstate:[],\r\n\t\tsubjects:[],\r\n\t\tsub:[],\r\n\t}},\r\n\tmethods:{\r\n\t\tmarket(){//跳转到网上超市\r\n\t\t\tthis.$router.push(\"/market\");\r\n\t\t},\r\n\t\tinfoId(e){//跳转到商品详情页\r\n\t\t\tvar sid=e.target.dataset.sid;\r\n\t\t\tvar url=`info?sid=${sid}`;\r\n\t\t\tthis.$router.push(url);\r\n\t\t},\r\n\t},\r\n\tcomponents: {Classfication1,Classfication2},\r\n\tcreated(){\r\n\t\t// 新品推荐，自动获取产品\r\n\t\tthis.axios.get(\"newPro\").then(res=>{\r\n\t\t\tvar stamps=res.data.data;  //将从服务器端获取到的数据提取出来，保存到stamps变量中\r\n\t\t\tif(stamps.length>4){\r\n\t\t\t\tthis.stamps1=stamps.slice(0,4);\r\n\t\t\t\tthis.stamps2=stamps.slice(4);\r\n\t\t\t}\r\n\t\t});\r\n\t\t// 世界邮票，自动获取地域\r\n\t\tthis.axios.get(\"nations\").then(res=>{\r\n\t\t\tthis.nareas=res.data.data;\r\n\t\t\t// 将得到的地域数组，拼接为特殊格式\r\n\t\t\tvar cats=this.nareas;\r\n\t\t\tvar str=\"\";\r\n\t\t\tfor(var cat of cats){str+=\"'\"+cat.nareas+\"',\";}\r\n\t\t\t// 通过得到的地域名称，获取所有的国家\r\n\t\t\tvar nareas=str.slice(0,str.length-1);\r\n\t\t\tthis.axios.get(\"country\",{params:{nareas}}).then(res=>{\r\n\t\t\t\tvar countrys=res.data.data;\r\n\t\t\t\t// 遍历对齐地域和国家数组中的nareas属性，将相同属性的子数组并在整理归类\r\n\t\t\t\tvar cc=[];\r\n\t\t\t\tfor(var i=0;i<cats.length;i++){\r\n\t\t\t\t\tcc.push([]);\r\n\t\t\t\t\tvar m=0;\r\n\t\t\t\t\tfor(var j=0;j<countrys.length;j++){\r\n\t\t\t\t\t\tif(m<10){  // 一个地域最多显示10个国家\r\n\t\t\t\t\t\t\tif(cats[i].nareas==countrys[j].nareas){\r\n\t\t\t\t\t\t\t\tcc[i][m]=countrys[j];\r\n\t\t\t\t\t\t\t\tm++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\r\n\t\t\t\tthis.state=cc;\t\t\r\n\t\t\t})\r\n\t\t});\r\n\t\t\r\n\t\t// 专题邮票，自动获取专题\r\n\t\tthis.axios.get(\"subject\").then(res=>{\r\n\t\t\tthis.subjects=res.data.data;\r\n\t\t\t// 将得到的专题大类别，拼接为特殊格式\r\n\t\t\tvar cats=this.subjects;\r\n\t\t\tvar str=\"\";\r\n\t\t\tfor(var cat of cats){str+=\"'\"+cat[\"sub_cat\"]+\"',\";}\r\n\t\t\t// 通过得到的专题大类别，获取专题项目\r\n\t\t\tvar subjects=str.slice(0,str.length-1);\r\n\t\t\tthis.axios.get(\"sub\",{params:{subjects}}).then(res=>{\r\n\t\t\t\tvar subs=res.data.data;\r\n\t\t\t\t// 遍历，将相同属性的子数组并在整理归类\r\n\t\t\t\tvar cc=[];\r\n\t\t\t\tfor(var i=0;i<cats.length;i++){\r\n\t\t\t\t\tcc.push([]);\r\n\t\t\t\t\tvar m=0;\r\n\t\t\t\t\tfor(var j=0;j<subs.length;j++){\r\n\t\t\t\t\t\tif(m<10){  // 一个地域最多显示10个国家\r\n\t\t\t\t\t\t\tif(cats[i][\"sub_cat\"]==subs[j][\"sub_cat\"]){\r\n\t\t\t\t\t\t\t\tcc[i][m]=subs[j];\r\n\t\t\t\t\t\t\t\tm++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\r\n\t\t\t\tthis.sub=cc;\t\t\r\n\t\t\t});\r\n\t\t});\r\n\t\r\n\t},\r\n\tmounted () {\r\n\t\r\n\t}\r\n}\r\n\r\n</script>\r\n<style scoped>\r\n@import \"../css/IndexCen.css\";\r\n</style>\r\n"]}]}