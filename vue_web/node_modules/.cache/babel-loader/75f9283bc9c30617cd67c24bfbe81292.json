{"remainingRequest":"D:\\stamp_station\\vue_web\\node_modules\\babel-loader\\lib\\index.js!D:\\stamp_station\\vue_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\stamp_station\\vue_web\\src\\components\\stamp_station\\common\\IndexCen.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\stamp_station\\vue_web\\src\\components\\stamp_station\\common\\IndexCen.vue","mtime":1565786331877},{"path":"D:\\stamp_station\\vue_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1565665639480},{"path":"D:\\stamp_station\\vue_web\\node_modules\\babel-loader\\lib\\index.js","mtime":1565665638895},{"path":"D:\\stamp_station\\vue_web\\node_modules\\vue-loader\\lib\\index.js","mtime":1565665653532}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Classfication1 from \"./Classfication1.vue\";\nimport Classfication2 from \"./Classfication2.vue\";\nexport default {\n  data() {\n    return {\n      keywords: \"\",\n      stamps1: [],\n      stamps2: [],\n      nareas: [],\n      state: [],\n      subjects: [],\n      sub: []\n    };\n  },\n\n  methods: {\n    market() {\n      //跳转到网上超市\n      this.$router.push(\"/market\");\n    },\n\n    infoId(e) {\n      //跳转到商品详情页\n      var sid = e.target.dataset.sid;\n      var url = `info?sid=${sid}`;\n      this.$router.push(url);\n    }\n\n  },\n  components: {\n    Classfication1,\n    Classfication2\n  },\n\n  created() {\n    // 新品推荐，自动获取产品\n    this.axios.get(\"newPro\").then(res => {\n      var stamps = res.data.data; //将从服务器端获取到的数据提取出来，保存到stamps变量中\n\n      if (stamps.length > 4) {\n        this.stamps1 = stamps.slice(0, 4);\n        this.stamps2 = stamps.slice(4);\n      }\n    }); // 世界邮票，自动获取地域\n\n    this.axios.get(\"nations\").then(res => {\n      this.nareas = res.data.data; // 将得到的地域数组，拼接为特殊格式\n\n      var cats = this.nareas;\n      var str = \"\";\n\n      for (var cat of cats) {\n        str += \"'\" + cat.nareas + \"',\";\n      } // 通过得到的地域名称，获取所有的国家\n\n\n      var nareas = str.slice(0, str.length - 1);\n      this.axios.get(\"country\", {\n        params: {\n          nareas\n        }\n      }).then(res => {\n        var countrys = res.data.data; // 遍历对齐地域和国家数组中的nareas属性，将相同属性的子数组并在整理归类\n\n        var cc = [];\n\n        for (var i = 0; i < cats.length; i++) {\n          cc.push([]);\n          var m = 0;\n\n          for (var j = 0; j < countrys.length; j++) {\n            if (m < 10) {\n              // 一个地域最多显示10个国家\n              if (cats[i].nareas == countrys[j].nareas) {\n                cc[i][m] = countrys[j];\n                m++;\n              }\n            }\n          }\n        }\n\n        this.state = cc;\n      });\n    }); // 专题邮票，自动获取专题\n\n    this.axios.get(\"subject\").then(res => {\n      this.subjects = res.data.data; // 将得到的专题大类别，拼接为特殊格式\n\n      var cats = this.subjects;\n      var str = \"\";\n\n      for (var cat of cats) {\n        str += \"'\" + cat[\"sub_cat\"] + \"',\";\n      } // 通过得到的专题大类别，获取专题项目\n\n\n      var subjects = str.slice(0, str.length - 1);\n      this.axios.get(\"sub\", {\n        params: {\n          subjects\n        }\n      }).then(res => {\n        var subs = res.data.data; // 遍历，将相同属性的子数组并在整理归类\n\n        var cc = [];\n\n        for (var i = 0; i < cats.length; i++) {\n          cc.push([]);\n          var m = 0;\n\n          for (var j = 0; j < subs.length; j++) {\n            if (m < 10) {\n              // 一个地域最多显示10个国家\n              if (cats[i][\"sub_cat\"] == subs[j][\"sub_cat\"]) {\n                cc[i][m] = subs[j];\n                m++;\n              }\n            }\n          }\n        }\n\n        this.sub = cc;\n      });\n    });\n  },\n\n  mounted() {}\n\n};",{"version":3,"sources":["IndexCen.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n<div id=\"index_cen\" >\r\n\t<!-- 搜索 -->\r\n\t<div class=\"searchbox\">\r\n\t\t<h3 class=\"searTitle\"><img src=\"../../../img/search2.png\"><span>邮品搜索</span></h3>\r\n\t\t<table>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>关键字：</td><td  colspan=\"2\"><input type=\"text\"></td><td><a class=\"searchbtn\" href=\"javascript:;\">高级搜索</a></td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>国家：</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<select name=\"nations\">\r\n\t\t\t\t\t\t<option value=\"\">-请选择-</option>\r\n\t\t\t\t\t\t<option value=\"\">中国</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</td>\t\t\t\t\t\r\n\t\t\t\t<td>种类：</td>\t\t\t\t\t\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<select name=\"kinds\">\r\n\t\t\t\t\t\t<option value=\"\">-请选择-</option>\r\n\t\t\t\t\t\t<option value=\"\">中国</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>专题：</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<select name=\"subjects\">\r\n\t\t\t\t\t\t<option value=\"\">-请选择-</option>\r\n\t\t\t\t\t\t<option value=\"\">世界杯足球</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td>发行年份：</td>\r\n\t\t\t\t<td><input type=\"text\"><input type=\"button\" value=\"搜索\"/></td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n\t<!-- 新品推荐 -->\r\n\t<div class=\"newPro\">\r\n\t\t<h3 class=\"title581\">新品推荐 <a @click=\"market\">最新行情,最新邮品！</a></h3>\r\n\t\t<div class=\"content\">\r\n\t\t\t<!-- 查询4个产品信息 -->\r\n\t\t\t<div class=\"pro\" v-for=\"(stamp,i) of stamps1\" :key=\"i\">\r\n\t\t\t\t<div class=\"left\">\r\n\t\t\t\t\t<div class=\"desc\"><a @click=\"infoId\" :data-sid=\"stamp.sid\">{{stamp.detials}}</a></div>\r\n\t\t\t\t\t<h4><a @click=\"infoId\" :data-sid=\"stamp.sid\">{{stamp.stitle}}</a></h4>\r\n\t\t\t\t\t<p v-html=\"`编号：${stamp.snum} 国家：${stamp.nname}`\"></p>\r\n\t\t\t\t\t<a class=\"buy\" href=\"javascript:;\"></a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"img\" :style=\"`background-image: url('${stamp.imgurl}');`\"></div>\r\n\t\t\t</div>\r\n\t\t\t<!-- 一行显示3个产品 -->\r\n\t\t\t<div class=\"pro last\">\r\n\t\t\t\t<div class=\"list\" v-for=\"(stamp,i) of stamps2\" :key=\"i\">\r\n\t\t\t\t\t<div class=\"img\" :style=\"`background-image: url('${stamp.imgurl}');`\"></div>\r\n\t\t\t\t\t<h4><a @click=\"infoId\" :data-sid=\"stamp.sid\">{{stamp.stitle}}</a></h4>\r\n\t\t\t\t\t<p v-html=\"`编号：${stamp.snum}`\"></p>\r\n\t\t\t\t\t<p v-html=\"`国家：${stamp.nname}`\"></p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<!-- 世界邮票 -->\r\n\t<div class=\"areaStamp\">\r\n\t\t<h3 class=\"title581\">世界邮票 <a @click=\"market\">更多>></a></h3>\r\n\t\t<Classfication1 :cats=\"nareas\" :state=\"state\"></Classfication1>\r\n\t</div>\r\n\t\r\n\t<!-- 专题邮票 -->\r\n\t<div class=\"kinsStamp\">\r\n\t\t<h3 class=\"title581\">专题邮票 <a @click=\"market\">更多>></a></h3>\r\n\t\t<Classfication2 :cats=\"subjects\" :state=\"sub\"></Classfication2>\r\n\t</div>\r\n</div> \r\n</template>\r\n<script>\r\nimport Classfication1 from \"./Classfication1.vue\";\r\nimport Classfication2 from \"./Classfication2.vue\";\r\nexport default {\r\n  data(){return {\r\n\t\tkeywords:\"\",\r\n\t\tstamps1:[],\r\n\t\tstamps2:[],\r\n\t\tnareas:[],\r\n\t\tstate:[],\r\n\t\tsubjects:[],\r\n\t\tsub:[],\r\n\t}},\r\n\tmethods:{\r\n\t\tmarket(){//跳转到网上超市\r\n\t\t\tthis.$router.push(\"/market\");\r\n\t\t},\r\n\t\tinfoId(e){//跳转到商品详情页\r\n\t\t\tvar sid=e.target.dataset.sid;\r\n\t\t\tvar url=`info?sid=${sid}`;\r\n\t\t\tthis.$router.push(url);\r\n\t\t},\r\n\t},\r\n\tcomponents: {Classfication1,Classfication2},\r\n\tcreated(){\r\n\t\t// 新品推荐，自动获取产品\r\n\t\tthis.axios.get(\"newPro\").then(res=>{\r\n\t\t\tvar stamps=res.data.data;  //将从服务器端获取到的数据提取出来，保存到stamps变量中\r\n\t\t\tif(stamps.length>4){\r\n\t\t\t\tthis.stamps1=stamps.slice(0,4);\r\n\t\t\t\tthis.stamps2=stamps.slice(4);\r\n\t\t\t}\r\n\t\t});\r\n\t\t// 世界邮票，自动获取地域\r\n\t\tthis.axios.get(\"nations\").then(res=>{\r\n\t\t\tthis.nareas=res.data.data;\r\n\t\t\t// 将得到的地域数组，拼接为特殊格式\r\n\t\t\tvar cats=this.nareas;\r\n\t\t\tvar str=\"\";\r\n\t\t\tfor(var cat of cats){str+=\"'\"+cat.nareas+\"',\";}\r\n\t\t\t// 通过得到的地域名称，获取所有的国家\r\n\t\t\tvar nareas=str.slice(0,str.length-1);\r\n\t\t\tthis.axios.get(\"country\",{params:{nareas}}).then(res=>{\r\n\t\t\t\tvar countrys=res.data.data;\r\n\t\t\t\t// 遍历对齐地域和国家数组中的nareas属性，将相同属性的子数组并在整理归类\r\n\t\t\t\tvar cc=[];\r\n\t\t\t\tfor(var i=0;i<cats.length;i++){\r\n\t\t\t\t\tcc.push([]);\r\n\t\t\t\t\tvar m=0;\r\n\t\t\t\t\tfor(var j=0;j<countrys.length;j++){\r\n\t\t\t\t\t\tif(m<10){  // 一个地域最多显示10个国家\r\n\t\t\t\t\t\t\tif(cats[i].nareas==countrys[j].nareas){\r\n\t\t\t\t\t\t\t\tcc[i][m]=countrys[j];\r\n\t\t\t\t\t\t\t\tm++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\r\n\t\t\t\tthis.state=cc;\t\t\r\n\t\t\t})\r\n\t\t});\r\n\t\t\r\n\t\t// 专题邮票，自动获取专题\r\n\t\tthis.axios.get(\"subject\").then(res=>{\r\n\t\t\tthis.subjects=res.data.data;\r\n\t\t\t// 将得到的专题大类别，拼接为特殊格式\r\n\t\t\tvar cats=this.subjects;\r\n\t\t\tvar str=\"\";\r\n\t\t\tfor(var cat of cats){str+=\"'\"+cat[\"sub_cat\"]+\"',\";}\r\n\t\t\t// 通过得到的专题大类别，获取专题项目\r\n\t\t\tvar subjects=str.slice(0,str.length-1);\r\n\t\t\tthis.axios.get(\"sub\",{params:{subjects}}).then(res=>{\r\n\t\t\t\tvar subs=res.data.data;\r\n\t\t\t\t// 遍历，将相同属性的子数组并在整理归类\r\n\t\t\t\tvar cc=[];\r\n\t\t\t\tfor(var i=0;i<cats.length;i++){\r\n\t\t\t\t\tcc.push([]);\r\n\t\t\t\t\tvar m=0;\r\n\t\t\t\t\tfor(var j=0;j<subs.length;j++){\r\n\t\t\t\t\t\tif(m<10){  // 一个地域最多显示10个国家\r\n\t\t\t\t\t\t\tif(cats[i][\"sub_cat\"]==subs[j][\"sub_cat\"]){\r\n\t\t\t\t\t\t\t\tcc[i][m]=subs[j];\r\n\t\t\t\t\t\t\t\tm++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\r\n\t\t\t\tthis.sub=cc;\t\t\r\n\t\t\t});\r\n\t\t});\r\n\t\r\n\t},\r\n\tmounted () {\r\n\t\r\n\t}\r\n}\r\n\r\n</script>\r\n<style scoped>\r\n@import \"../css/IndexCen.css\";\r\n</style>\r\n"],"sourceRoot":"src\\components\\stamp_station\\common"}]}