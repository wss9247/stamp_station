{"remainingRequest":"D:\\stamp_station\\vue_web\\node_modules\\babel-loader\\lib\\index.js!D:\\stamp_station\\vue_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\stamp_station\\vue_web\\src\\components\\stamp_station\\common\\StampAddPage.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\stamp_station\\vue_web\\src\\components\\stamp_station\\common\\StampAddPage.vue","mtime":1565872746824},{"path":"D:\\stamp_station\\vue_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"D:\\stamp_station\\vue_web\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"D:\\stamp_station\\vue_web\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Hd from \"./Header\";\nimport Marketaside from \"./Market_aside\";\nimport fot from \"./Footer\";\nexport default {\n  data() {\n    return {\n      current: \"12\",\n      country: [],\n      kinds: [],\n      subs: [],\n      stitle: \"\",\n      snum: \"\",\n      nid: \"\",\n      sdate: \"\",\n      price: \"\",\n      samount: \"\",\n      imgurl: \"\",\n      kid: \"\",\n      subid: \"\"\n    };\n  },\n\n  components: {\n    Hd,\n    Marketaside,\n    fot\n  },\n  methods: {\n    addStamp() {\n      var data = new URLSearchParams();\n      data.append(\"stitle\", this.stitle);\n      data.append(\"snum\", this.snum);\n      data.append(\"nid\", this.nid);\n      data.append(\"sdate\", this.sdate);\n      data.append(\"price\", this.price);\n      data.append(\"samount\", this.samount);\n      data.append(\"imgurl\", \"\");\n      data.append(\"kid\", this.kid);\n      data.append(\"subid\", this.subid);\n      this.axios.post(\"addStamp\", data).then(res => {\n        console.log(res.data);\n      });\n    },\n\n    xlpop(e) {\n      // 获取ul元素\n      var nextAny = $(e.target).siblings();\n\n      if (nextAny.hasClass(\"hide\")) {\n        nextAny.removeClass(\"hide\");\n      } else {\n        nextAny.addClass(\"hide\");\n      }\n    },\n\n    changimg(e) {// console.log(this.$refs.inputer)\n      // var img1=e.target.files[0];//图片文件  \n      // var size=img1.size;//文件的大小，判断图片的大小  \n      // if(size>3145728){  \n      //     alert('请选择3M以内的图片！');  \n      //     return false;  \n      // }  \n      // var imgfile=img1;\n      // var imgurl=img1.name\n      // this.imgurl=imgfile;\n      // var data = new URLSearchParams();   //一定要这样写，否则后台收不到参数的\n      // data.append('imgfile', imgfile);       //你要传给后台的参数值 key/value\n      // data.append('imgurl', imgurl);       //你要传给后台的参数值 key/value\n      // this.axios.post(\"addimg\",data).then(res=>{\n      //   console.log(res.data);\n      // })      \n    }\n\n  },\n  computed: {},\n\n  created() {\n    this.axios.get(\"getinfo\").then(res => {\n      var lists = res.data.data;\n      var {\n        country,\n        kinds,\n        subs\n      } = lists;\n      this.country = country;\n      this.kinds = kinds;\n      this.subs = subs;\n    });\n  },\n\n  mounted() {}\n\n};",{"version":3,"sources":["StampAddPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA,OAAA,EAAA,MAAA,UAAA;AACA,OAAA,WAAA,MAAA,gBAAA;AACA,OAAA,GAAA,MAAA,UAAA;AACA,eAAA;AACA,SAAA;AAAA,WAAA;AACA,eAAA,IADA;AAEA,eAAA,EAFA;AAGA,aAAA,EAHA;AAIA,YAAA,EAJA;AAKA,cAAA,EALA;AAMA,YAAA,EANA;AAOA,WAAA,EAPA;AAQA,aAAA,EARA;AASA,aAAA,EATA;AAUA,eAAA,EAVA;AAWA,cAAA,EAXA;AAYA,WAAA,EAZA;AAaA,aAAA;AAbA,KAAA;AAcA,GAfA;;AAgBA,cAAA;AAAA,MAAA;AAAA,eAAA;AAAA;AAAA,GAhBA;AAiBA,WAAA;AACA,eAAA;AACA,UAAA,OAAA,IAAA,eAAA,EAAA;AACA,WAAA,MAAA,CAAA,QAAA,EAAA,KAAA,MAAA;AACA,WAAA,MAAA,CAAA,MAAA,EAAA,KAAA,IAAA;AACA,WAAA,MAAA,CAAA,KAAA,EAAA,KAAA,GAAA;AACA,WAAA,MAAA,CAAA,OAAA,EAAA,KAAA,KAAA;AACA,WAAA,MAAA,CAAA,OAAA,EAAA,KAAA,KAAA;AACA,WAAA,MAAA,CAAA,SAAA,EAAA,KAAA,OAAA;AACA,WAAA,MAAA,CAAA,QAAA,EAAA,EAAA;AACA,WAAA,MAAA,CAAA,KAAA,EAAA,KAAA,GAAA;AACA,WAAA,MAAA,CAAA,OAAA,EAAA,KAAA,KAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,UAAA,EAAA,IAAA,EAAA,IAAA,CAAA,OAAA;AACA,gBAAA,GAAA,CAAA,IAAA,IAAA;AACA,OAFA;AAGA,KAfA;;AAgBA,UAAA,CAAA,EAAA;AACA;AACA,UAAA,UAAA,EAAA,EAAA,MAAA,EAAA,QAAA,EAAA;;AACA,UAAA,QAAA,QAAA,CAAA,MAAA,CAAA,EAAA;AACA,gBAAA,WAAA,CAAA,MAAA;AACA,OAFA,MAEA;AACA,gBAAA,QAAA,CAAA,MAAA;AACA;AACA,KAxBA;;AAyBA,aAAA,CAAA,EAAA,CACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA3CA,GAjBA;AA+DA,YAAA,EA/DA;;AAkEA,YAAA;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,SAAA,EAAA,IAAA,CAAA,OAAA;AACA,UAAA,QAAA,IAAA,IAAA,CAAA,IAAA;AACA,UAAA;AAAA,eAAA;AAAA,aAAA;AAAA;AAAA,UAAA,KAAA;AACA,WAAA,OAAA,GAAA,OAAA;AACA,WAAA,KAAA,GAAA,KAAA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,KANA;AAOA,GA1EA;;AA2EA,YAAA,CAEA;;AA7EA,CAAA","sourcesContent":["<template>\r\n<div id=\"addstamp\">\r\n  <!-- 引入顶部子组件：Header -->\r\n  <Hd :mid=\"current\"></Hd>\r\n  <div class=\"container\">\r\n    <!-- 引入左侧边栏 -->\r\n    <aside>\r\n      <Marketaside></Marketaside>\r\n    </aside>\r\n    <!-- 主体区域 -->\r\n    <section>\r\n      <table cellspacing=0 cellpadding=0>\r\n        <tr><td>邮票名称：</td><td><input v-model=\"stitle\" type=\"text\"></td></tr>\r\n        <tr><td>邮票编号：</td><td><input v-model=\"snum\" type=\"text\"></td></tr>\r\n        <tr><td>发行国家：</td>\r\n          <td>\r\n            <select name=\"nations\"  v-model=\"nid\" id=\"\">{{nid}}\r\n              <option value=\"999\" selected >--请选择--</option>\r\n              <option :value=\"c.nid\" v-for=\"(c,i) of country\" :key=\"i\">{{c.nname}}</option>\r\n            </select>\r\n          </td>\r\n        </tr>\r\n        <tr><td>发行时间：</td><td><input v-model=\"sdate\" type=\"date\"></td></tr>\r\n        <tr><td>售价：</td><td><input  v-model=\"price\" type=\"number\"></td></tr>\r\n        <tr><td>数量：</td><td><input v-model=\"samount\" type=\"number\"></td></tr>        \r\n        <tr>\r\n          <td>图片上传：</td>\r\n          <td>\r\n            <input @change=\"changimg\" type=\"file\" accept=\"image/*\"/>\r\n          </td>\r\n          \r\n        </tr>\r\n        <tr><td>邮票类型：</td>\r\n          <td>\r\n            <select name=\"kinds\" v-model=\"kid\" id=\"\">\r\n              <option value=\"999\" selected >--请选择--</option>\r\n              <option :value=\"k.kid\" v-for=\"(k,i) of kinds\" :key=\"i\">{{k.kname}}</option>\r\n            </select>\r\n          </td>\r\n        </tr>\r\n        <tr><td>所属专题：</td>\r\n          <td class=\"itembox\">\r\n            <a class=\"selector\" @click=\"xlpop\" >--请选择所属专题--</a>\r\n            <ul class=\"sub_items hide\">\r\n              <li class=\"sub\" v-for=\"(s,i) of subs\" :key=\"i\"><label><input type=\"checkbox\" :value=\"s.subid\">{{s[\"sub_name\"]}}</label></li>\r\n            </ul>\r\n          </td>\r\n        </tr>\r\n        <tr><td colspan=\"2\"><input type=\"button\" value=\"提交\" @click=\"addStamp\"></td></tr>\r\n      </table>      \r\n    </section>\r\n  </div>\r\n  <!-- 引入页脚 -->\r\n  <fot></fot>\r\n</div>\r\n</template>\r\n<script>\r\nimport Hd from \"./Header\";\r\nimport Marketaside from \"./Market_aside\";\r\nimport fot from \"./Footer\";\r\nexport default {\r\n  data(){return {\r\n    current:\"12\",\r\n    country:[],\r\n    kinds:[],\r\n    subs:[],\r\n    stitle:\"\",\r\n    snum:\"\",\r\n    nid:\"\",\r\n    sdate:\"\",\r\n    price:\"\",\r\n    samount:\"\",\r\n    imgurl:\"\",\r\n    kid:\"\",\r\n    subid:\"\",\r\n  }},\r\n  components:{Hd,Marketaside,fot},\r\n  methods:{\r\n\t\taddStamp(){\r\n      var data=new URLSearchParams();\r\n      data.append(\"stitle\",this.stitle);\r\n      data.append(\"snum\",this.snum);\r\n      data.append(\"nid\",this.nid);\r\n      data.append(\"sdate\",this.sdate);\r\n      data.append(\"price\",this.price);\r\n      data.append(\"samount\",this.samount);\r\n      data.append(\"imgurl\",\"\");\r\n      data.append(\"kid\",this.kid);\r\n      data.append(\"subid\",this.subid);\r\n      this.axios.post(\"addStamp\",data).then(res=>{\r\n        console.log(res.data);\r\n      }) \r\n    },\r\n    xlpop(e){\r\n      // 获取ul元素\r\n      var nextAny=$(e.target).siblings();\r\n      if(nextAny.hasClass(\"hide\")){\r\n        nextAny.removeClass(\"hide\");\r\n      }else{\r\n        nextAny.addClass(\"hide\");\r\n      }\r\n    },\r\n    changimg(e){\r\n      // console.log(this.$refs.inputer)\r\n      // var img1=e.target.files[0];//图片文件  \r\n      // var size=img1.size;//文件的大小，判断图片的大小  \r\n     \r\n      // if(size>3145728){  \r\n      //     alert('请选择3M以内的图片！');  \r\n      //     return false;  \r\n      // }  \r\n      // var imgfile=img1;\r\n      // var imgurl=img1.name\r\n      // this.imgurl=imgfile;\r\n      // var data = new URLSearchParams();   //一定要这样写，否则后台收不到参数的\r\n      // data.append('imgfile', imgfile);       //你要传给后台的参数值 key/value\r\n      // data.append('imgurl', imgurl);       //你要传给后台的参数值 key/value\r\n      // this.axios.post(\"addimg\",data).then(res=>{\r\n      //   console.log(res.data);\r\n      // })      \r\n    }\r\n   \r\n\t},\r\n\tcomputed:{\r\n\t\t\r\n  },\r\n  created(){\r\n    this.axios.get(\"getinfo\").then(res=>{\r\n      var lists=res.data.data;\r\n      var {country,kinds,subs}=lists;\r\n      this.country=country;\r\n      this.kinds=kinds;\r\n      this.subs=subs;\r\n    })\r\n  },\r\n  mounted(){\r\n    \r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n\r\n#addstamp table td{\r\n  padding-left:10px;\r\n  padding-bottom:12px;\r\n}\r\n#addstamp table td.itembox{\r\n  position: relative;\r\n}\r\n#addstamp table input[type=\"file\"]{\r\n  border:none;padding:0;\r\n}\r\n#addstamp table a.selector{\r\n  display:block;\r\n  width:160px;\r\n  height:26px;\r\n  padding:0 5px;\r\n  line-height:26px;\r\n  border:1px solid #ddd;\r\n  background: url(\"../../../img/icon1.png\") no-repeat 145px center;\r\n}\r\n/* 下拉选项 */ \r\n#addstamp table ul.sub_items{\r\n  position: absolute;\r\n  width:690px;\r\n  left:10px;top:26px;\r\n  display:flex;\r\n  flex-wrap: wrap;\r\n  border:1px solid #ddd;\r\n  background:#fff;\r\n}\r\n#addstamp table ul.sub_items.hide{\r\n  display:none;\r\n}\r\n#addstamp table ul.sub_items li{\r\n  height:30px;\r\n  padding:0 10px;\r\n  border-top:none;\r\n}\r\n#addstamp table ul.sub_items li input{\r\n  width:14px;height:14px;border:1px solid #000;\r\n  position: relative;\r\n  top:2px;\r\n}\r\n/* 提交按钮 */\r\n#addstamp table input[type=\"button\"]{\r\n  color:#fff;\r\n  background-image: linear-gradient(to bottom,#1eb4e6 0%,#1297d8 50%);\r\n  border:1px solid #ddd;\r\n  padding:3px 30px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src\\components\\stamp_station\\common"}]}