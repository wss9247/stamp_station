{"remainingRequest":"D:\\vue ui\\mint ui\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!D:\\vue ui\\mint ui\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue ui\\mint ui\\vue_app_00\\src\\components\\xz\\product.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\vue ui\\mint ui\\vue_app_00\\src\\components\\xz\\product.vue","mtime":1564987556955},{"path":"D:\\vue ui\\mint ui\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"D:\\vue ui\\mint ui\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"D:\\vue ui\\mint ui\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      pno: 1,\n      pagesize: 3,\n      lists: [] //用于保存从后台获取到的数据\n\n    };\n  },\n  methods: {\n    showDetails: function showDetails() {\n      var _this = this;\n\n      var pno = this.pno++;\n      var pagesize = this.pagesize; // 发送ajax请求\n\n      var url = \"product\";\n      var obj = {\n        pno: pno,\n        pagesize: pagesize\n      };\n      this.axios.get(url, {\n        params: obj\n      }).then(function (res) {\n        // this.lists=res.data.data;  //将从服务器端获取到的数据提取出来，保存到lists变量中 \n        var rows = _this.lists.concat(res.data.data); //将每次得到的数据合并为一个大数组，用于翻页      \n\n\n        _this.lists = rows;\n        console.log(_this.lists);\n      }).catch(function (err) {\n        console.log(\"出错啦\");\n      });\n    },\n    addcart: function addcart(e) {\n      var _this2 = this;\n\n      // 将上一个时间中得到的商品信息，通过自定义属性添加到事件按钮上，便于获得\n      var lid = e.target.dataset.lid;\n      var lname = e.target.dataset.lname;\n      var price = e.target.dataset.price; // 发送ajax请求\n\n      var url = \"addcart\";\n      var obj = {\n        lid: lid,\n        lname: lname,\n        price: price\n      };\n      this.axios.get(url, {\n        params: obj\n      }).then(function (res) {\n        // console.log(res);\n        if (res.data.code == -1) {\n          _this2.$messagebox(\"消息\", \"请先登录！\").then(function (res) {\n            _this2.$router.push(\"/login\");\n\n            return;\n          });\n        } else {\n          _this2.$toast(\"添加成功！\");\n        }\n      }).catch(function (err) {\n        console.log(\"添加购物车出错啦！\");\n      });\n    }\n  }\n};",{"version":3,"sources":["product.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAqBA,eAAA;AACA,MADA,kBACA;AAAA,WAAA;AACA,WAAA,CADA;AAEA,gBAAA,CAFA;AAGA,aAAA,EAHA,CAGA;;AAHA,KAAA;AAIA,GALA;AAMA,WAAA;AACA,eADA,yBACA;AAAA;;AACA,UAAA,MAAA,KAAA,GAAA,EAAA;AACA,UAAA,WAAA,KAAA,QAAA,CAFA,CAGA;;AACA,UAAA,MAAA,SAAA;AACA,UAAA,MAAA;AAAA,gBAAA;AAAA;AAAA,OAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA;AAAA,gBAAA;AAAA,OAAA,EAAA,IAAA,CAAA,eAAA;AACA;AACA,YAAA,OAAA,MAAA,KAAA,CAAA,MAAA,CAAA,IAAA,IAAA,CAAA,IAAA,CAAA,CAFA,CAEA;;;AACA,cAAA,KAAA,GAAA,IAAA;AACA,gBAAA,GAAA,CAAA,MAAA,KAAA;AACA,OALA,EAKA,KALA,CAKA,eAAA;AAAA,gBAAA,GAAA,CAAA,KAAA;AAAA,OALA;AAMA,KAbA;AAcA,WAdA,mBAcA,CAdA,EAcA;AAAA;;AACA;AACA,UAAA,MAAA,EAAA,MAAA,CAAA,OAAA,CAAA,GAAA;AACA,UAAA,QAAA,EAAA,MAAA,CAAA,OAAA,CAAA,KAAA;AACA,UAAA,QAAA,EAAA,MAAA,CAAA,OAAA,CAAA,KAAA,CAJA,CAKA;;AACA,UAAA,MAAA,SAAA;AACA,UAAA,MAAA;AAAA,gBAAA;AAAA,oBAAA;AAAA;AAAA,OAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA;AAAA,gBAAA;AAAA,OAAA,EAAA,IAAA,CAAA,eAAA;AACA;AACA,YAAA,IAAA,IAAA,CAAA,IAAA,IAAA,CAAA,CAAA,EAAA;AACA,iBAAA,WAAA,CAAA,IAAA,EAAA,OAAA,EAAA,IAAA,CAAA,eAAA;AACA,mBAAA,OAAA,CAAA,IAAA,CAAA,QAAA;;AACA;AACA,WAHA;AAIA,SALA,MAKA;AACA,iBAAA,MAAA,CAAA,OAAA;AACA;AACA,OAVA,EAUA,KAVA,CAUA,eAAA;AAAA,gBAAA,GAAA,CAAA,WAAA;AAAA,OAVA;AAWA;AAjCA;AANA,CAAA","sourcesContent":["<template>\r\n  <div class=\"pro\">\r\n    <h3>商品列表页</h3>\r\n    <div class=\"product-app\">\r\n      <!-- \"select lid,price,lname,details from xz_laptop limit ?,?\" -->\r\n      <div class=\"goods-item\" v-for=\"(list,i) of lists\" :key=\"i\">\r\n        <img :src=\"list.md\" >\r\n        <h4>{{list.lname}}</h4>\r\n        <div class=\"price\">{{list.price}}</div>\r\n        <mt-button size=\"large\" @click=\"addcart\" :data-lid=\"list.lid\" :data-price=\"list.price\" :data-lname=\"list.lname\">加入购物车</mt-button>\r\n      </div>\r\n    </div>\r\n    <div class=\"pageBtn\">\r\n      <!-- <mt-field label=\"页码：\" v-model=\"pno\"></mt-field>\r\n      <mt-field label=\"条数：\" v-model=\"pagesize\"></mt-field> -->\r\n      <mt-button size=\"large\" @click=\"showDetails\">查看更多>></mt-button>\r\n    </div>\r\n    <mt-button @click=\"buy\">去结算</mt-button>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data(){return {\r\n    pno:1,\r\n    pagesize:3,\r\n    lists:[]  //用于保存从后台获取到的数据\r\n  }},\r\n  methods:{\r\n    showDetails(){\r\n      var pno=this.pno++;\r\n      var pagesize=this.pagesize;\r\n      // 发送ajax请求\r\n      var url=\"product\";\r\n      var obj={pno,pagesize};\r\n      this.axios.get(url,{params:obj}).then(res=>{\r\n        // this.lists=res.data.data;  //将从服务器端获取到的数据提取出来，保存到lists变量中 \r\n        var rows=this.lists.concat(res.data.data) //将每次得到的数据合并为一个大数组，用于翻页      \r\n        this.lists=rows;\r\n        console.log(this.lists);\r\n      }).catch(err=>{console.log(\"出错啦\")});\r\n    },\r\n    addcart(e){\r\n      // 将上一个时间中得到的商品信息，通过自定义属性添加到事件按钮上，便于获得\r\n      var lid=e.target.dataset.lid;\r\n      var lname=e.target.dataset.lname;\r\n      var price=e.target.dataset.price;\r\n      // 发送ajax请求\r\n      var url=\"addcart\";\r\n      var obj={lid,lname,price};\r\n      this.axios.get(url,{params:obj}).then(res=>{        \r\n        // console.log(res);\r\n        if(res.data.code==-1){\r\n            this.$messagebox(\"消息\",\"请先登录！\").then(res=>{\r\n            this.$router.push(\"/login\");\r\n            return;\r\n          });\r\n        }else{\r\n          this.$toast(\"添加成功！\");          \r\n        }\r\n      }).catch(err=>{console.log(\"添加购物车出错啦！\")})\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.product-app{\r\n  display:flex;\r\n  flex-wrap:wrap; /* 指定子元素换行 */\r\n  justify-content: space-between; /* 两端对齐 */\r\n  padding:4px;\r\n}\r\n.goods-item{\r\n  width:49%;\r\n  border:1px solid #ccc;\r\n  border-radius:5px;\r\n  margin:2px 0;\r\n  padding:2px;\r\n  box-sizing:border-box;\r\n}\r\n.goods-item img{width:100%;}\r\n\r\n.goods-item input[type='text']{\r\n  height:33px !important;\r\n  width:33px !important;\r\n}\r\n</style>\r\n\r\n"],"sourceRoot":"src\\components\\xz"}]}